<!DOCTYPE html>
<html lang="en">
<head>
    <title>Movies</title>
    <%- include('layout/head'); %>
</head>
<body class="bg-1 d-flex flex-column min-vh-100" style="margin: 0px auto">
<div>
    <%- include('layout/navbar'); %>

    <h2 class="header-1 mt-3 text-danger">Movies <i class="fa-solid fa-film"></i></h2>

    <div class="d-flex justify-content-center">
        <form class="input-group mb-3" action="/movies/find/" method="post" style="max-width: 500px;">
            <input type="text" class="form-control bg-transparent border border-danger text-light" name="searchReq" placeholder="Search">
            <button class="btn btn-outline-danger" type="submit" id="button-addon2"><i class="fas fa-search"></i></button>
        </form>
    </div>

    <div class="d-flex justify-content-center">
        <a class="btn btn-light text-danger" href="/admin/movies/add">
            Add movie <i class="fa-solid fa-plus"></i>
        </a>
    </div>

    <% if(data.length){ %>
        <div class="movie-container row row-cols-1 row-cols-md-3 d-flex justify-content-center mt-3 w-100">
            <% data.forEach(function(movie) { %>
                <a class="movie-box mb-3" href="/movies/<%=movie.id%>" style="text-decoration: none">
                    <img class="movie-cover" src="<%= movie.cover%>">
                    <h2 class="movie-title mt-1">
                        <%= movie.title %> (<%= movie.year %>)
                    </h2>
                    <h2 class="movie-rating text-secondary">
                        Director: <%= movie.director %>
                    </h2>
                </a>
            <% }); %>
        </div>
    <% }else{ %>
        <div class="d-flex justify-content-center  row-cols-1 row-cols-lg-3 mt-3">
            <div class="card bg-dark align-items-center rounded pb-3 border border-gray" style="max-width: 800px">
                <div class="text-light mt-3">
                    <span>No movies found </span> <i class="fa-solid fa-compress"></i>
                </div>
            </div>
        </div>
    <% } %>

</div>
<%- include('layout/footer'); %>
</body>
</html>